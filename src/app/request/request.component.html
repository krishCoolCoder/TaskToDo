<app-header (outputData)="getDataFromHeader($event)"></app-header>
<app-sidebar-menu></app-sidebar-menu>
<app-add-request-model (outputValue)="getInputValue($event)" [inputValue]="requestData" [isEdit]="isEdit"></app-add-request-model>
<app-view-request-model [inputValue]="requestData"></app-view-request-model>
<div class="taskContainer d-flex flex-column">
    <div class="topButtons">
        <div class="d-flex bd-highlight mb-3">
            <!-- <div class="p-2 bd-highlight">Flex item</div> -->
            <button type="button" class="btn btn-secondary btn-sm p-2 bd-highlight m-3"  data-toggle="modal" data-target="#requestModel" (click)="editRequest(null, false)">Create request</button>
            <!-- <button type="button" class="btn btn-secondary btn-sn p-2 bd-highlight m-3">Create request</button> -->
            <!-- <div class="p-2 bd-highlight">Flex item</div> -->
            <div class="btn-group ml-auto p-2 bd-highlight">
                <button class="btn btn-secondary btn-sm dropdown-toggle m-2" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Filter request
                </button>
                <div class="dropdown-menu m-2">
                  <div class="dropdown-item">
                    Pending
                  </div>
                  <div class="dropdown-item">
                    Approved
                  </div>
                  <div class="dropdown-item">
                    Rejected
                  </div>
                </div>
              </div>
            <!-- <div class="ml-auto p-2 bd-highlight">Flex item</div> -->
          </div>
          <div class="d-flex bd-highlight">
            <div class="pl-3 bd-highlight flex-grow-1 d-flex">
              <div class="cardView mr-3" (click)="showCardView()">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="0.75" y="0.75" width="7.5" height="7.5" rx="1.25" stroke="black" stroke-width="1.5"/>
                  <rect x="11.75" y="0.75" width="7.5" height="7.5" rx="1.25" stroke="black" stroke-width="1.5"/>
                  <rect x="11.75" y="11.75" width="7.5" height="7.5" rx="1.25" stroke="black" stroke-width="1.5"/>
                  <rect x="0.75" y="11.75" width="7.5" height="7.5" rx="1.25" stroke="black" stroke-width="1.5"/>
                  </svg>                  
              </div>
              <div class="listView mr-3" (click)="showListView()">
                <svg width="21" height="19" viewBox="0 0 21 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 6.66699H1" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M20 1H1" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M20 12.333H1" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M20 18H1" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>                  
              </div>
              <div class="tableView mr-3" (click)="showTableView()">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7 1H3C2.46957 1 1.96086 1.21071 1.58579 1.58579C1.21071 1.96086 1 2.46957 1 3V7M7 1H17C17.5304 1 18.0391 1.21071 18.4142 1.58579C18.7893 1.96086 19 2.46957 19 3V7M7 1V19M1 7V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H7M1 7H19M19 7V17C19 17.5304 18.7893 18.0391 18.4142 18.4142C18.0391 18.7893 17.5304 19 17 19H7M1 12.5H19" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>                  
              </div>
            </div>
            <div class="pl-3 pt-2 bd-highlight flex-grow-1">Request List </div>
          <div class="ml-auto p-2 bd-highlight d-flex">
            <div class="totalTaskReferenceColor m-1">

            </div>
            <div class="totalTaskReferenceTitle ml-2">
              <p>Total Tasks</p>
            </div>
          </div>
          <div class="p-2 bd-highlight d-flex">
            <div class="completedTaskColor m-1">

            </div>
            <div class="completedTaskRefernceTitle ml-2">
              <p>Completed Tasks</p>
            </div>
          </div>
          <div class="p-2 bd-highlight d-flex">
            <div class="taskInProgressColor m-1">

            </div>
            <div class="taskInProgressReferenceTitle ml-2">
              <P>Task In Progress</P>
            </div>
          </div>
          <div class="p-2 bd-highlight d-flex mr-3">
            <div class="taskToDoColor m-1">

            </div>
            <div class="taskToDoReferenceTitle ml-2">
              <p>Task To Do</p>
            </div>
          </div>
        </div>
    </div>
    <div class="requestList">
      <div class="alert alert-info m-2 noData d-flex justify-content-center align-items-center" role="alert" *ngIf="noData">
        <p>No requests available!.</p>
      </div>
      <!-- list view -->
      <div class="listView" *ngIf="listView">
        <div class="request mr-3 ml-3 d-flex bd-highlight mb-2" *ngFor="let data of requestList; index as i">
            <div class="requestNumber p-2 bd-highlight mr-4 ml-4" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">
                {{data.requestCode}}
            </div>
            <div class="requestTitle p-2 flex-grow-1 bd-highlight" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">
                {{data.requestTitle}}
            </div>
            <div class="requestStatus p-2 bd-highlight mr-4">
            <p class="text-truncate mr-3">{{data.requestDescription}}</p>
          </div>
            <div class="requestStatus p-2 bd-highlight mr-4">
                {{data.requestType}}
            </div>
            <div class="requestStatus p-2 bd-highlight mr-4">
                {{data.requestStatus}}
            </div>
            <div class="requestStatus p-2 bd-highlight mr-4">
                {{data.requestCreatedBy}}
            </div>
            <div class="requestStatus mr-1 p-2 dropdown">
              <svg 
              id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" 
              width="15" height="6" viewBox="0 0 15 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.78145 0.84279L2.15967 0.84279C2.19027 0.85353 2.21808 0.871429 2.24867 0.878589C3.04412 1.0361 3.67269 1.8881 3.72553 2.88686C3.78672 4.00376 3.29166 4.94884 2.4851 5.25671C2.37941 5.29608 2.26816 5.32472 2.15969 5.36052L1.78143 5.36052C1.7564 5.34978 1.73417 5.33188 1.70635 5.3283C0.972099 5.17437 0.413064 4.4942 0.254532 3.56345C0.243407 3.49185 0.226718 3.42025 0.212812 3.34866L0.212812 2.8618C0.221156 2.82958 0.235063 2.79736 0.237843 2.76514C0.354657 1.83439 0.869193 1.1256 1.58398 0.910789C1.65351 0.88931 1.71748 0.864269 1.78145 0.84279ZM12.4726 5.36054L12.0943 5.36052C12.0637 5.34978 12.0359 5.33188 12.0053 5.3283C11.2043 5.16721 10.5785 4.31163 10.5285 3.30212C10.4728 2.18879 10.9735 1.24729 11.7828 0.943008C11.8857 0.90363 11.9914 0.874992 12.0943 0.842773L12.4726 0.842773C12.4976 0.853513 12.5199 0.871412 12.5449 0.878572C13.268 1.0504 13.7409 1.59096 13.9661 2.49308C13.9967 2.61121 14.0134 2.7365 14.0385 2.85822L14.0385 3.34508C14.0301 3.37729 14.0162 3.40951 14.0134 3.44173C13.8938 4.37607 13.3821 5.08129 12.6673 5.29608C12.6005 5.31758 12.5366 5.33906 12.4726 5.36054ZM7.31612 5.36052L6.93787 5.36052C6.90727 5.34978 6.87946 5.33188 6.84887 5.32472C6.05064 5.16363 5.40817 4.27583 5.37479 3.27348C5.33586 2.14583 5.8643 1.19002 6.67921 0.921529C6.76543 0.892891 6.85165 0.867832 6.93787 0.842773L7.31612 0.842773C7.34671 0.853513 7.37453 0.871412 7.40512 0.878571C8.20335 1.03608 8.84583 1.92746 8.88198 2.92982C8.9237 4.05746 8.39247 5.01328 7.57756 5.28177C7.48856 5.3104 7.40234 5.33546 7.31612 5.36052Z" fill="black"/>
                </svg>  
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <!-- <a class="dropdown-item" href="#">Action</a> -->
                  <div class="dropdown-item" (click)="deleteRequest(data)">
                      <svg class="mr-2" width="10" height="13" viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M0.714286 11.5556C0.714286 12.35 1.35714 13 2.14286 13H7.85714C8.64286 13 9.28571 12.35 9.28571 11.5556V4.33333C9.28571 3.53889 8.64286 2.88889 7.85714 2.88889H2.14286C1.35714 2.88889 0.714286 3.53889 0.714286 4.33333V11.5556ZM9.28571 0.722222H7.5L6.99286 0.209444C6.86429 0.0794444 6.67857 0 6.49286 0H3.50714C3.32143 0 3.13571 0.0794444 3.00714 0.209444L2.5 0.722222H0.714286C0.321429 0.722222 0 1.04722 0 1.44444C0 1.84167 0.321429 2.16667 0.714286 2.16667H9.28571C9.67857 2.16667 10 1.84167 10 1.44444C10 1.04722 9.67857 0.722222 9.28571 0.722222Z" fill="black"/>
                      </svg>
                          Delete
                  </div>
                  <div class="dropdown-item" data-toggle="modal" data-target="#requestModel" (click)="editRequest(data, true)">
                      <svg class="mr-2" width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M0 8.70864V11H2.29136L9.04933 4.24203L6.75797 1.95067L0 8.70864ZM10.8213 2.47005C10.878 2.41352 10.9229 2.34637 10.9536 2.27246C10.9842 2.19854 11 2.1193 11 2.03927C11 1.95925 10.9842 1.88001 10.9536 1.80609C10.9229 1.73217 10.878 1.66503 10.8213 1.6085L9.3915 0.178692C9.33498 0.122047 9.26783 0.0771074 9.19391 0.0464451C9.11999 0.0157828 9.04075 0 8.96073 0C8.8807 0 8.80146 0.0157828 8.72754 0.0464451C8.65363 0.0771074 8.58648 0.122047 8.52995 0.178692L7.41177 1.29687L9.70313 3.58823L10.8213 2.47005Z" fill="black"/>
                      </svg>                                
                          Edit
                  </div>
              </div>
            </div>
        </div>
      </div>
      <!-- table view -->
      <div class="table" *ngIf="tableView">
        <div class="taskItems ml-3 mr-3">
            <div class="taskItem d-flex bd-highlight" *ngFor="let data of requestList; index as i">
                <div class="pt-2 bd-highlight ml-5">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                </div>
                <div class="pt-2 bd-highlight ml-2" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">
                    <p>{{data.requestCode}}</p>
                </div>
                <div class="p-2 flex-grow-1 bd-highlight" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">{{data.requestTitle}}</div>
                <div class="requestStatus p-2 bd-highlight mr-4">
                  <p class="text-truncate mr-3">{{data.requestDescription}}</p>
                </div>
                <div class="p-2 bd-highlight mr-5 text-start ml-1">{{data.requestType}}</div>
                <div class="p-2 bd-highlight mr-5 text-start ml-1">{{data.requestStatus}}</div>
                <div class="p-2 bd-highlight mr-5">Raised by {{data.requestCreatedBy}}</div>
                <div class="p-2 bd-highlight">
                  <div class="options mb-3 mr-3 dropdown">
                    <svg 
                    id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" 
                    width="15" height="6" viewBox="0 0 15 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1.78145 0.84279L2.15967 0.84279C2.19027 0.85353 2.21808 0.871429 2.24867 0.878589C3.04412 1.0361 3.67269 1.8881 3.72553 2.88686C3.78672 4.00376 3.29166 4.94884 2.4851 5.25671C2.37941 5.29608 2.26816 5.32472 2.15969 5.36052L1.78143 5.36052C1.7564 5.34978 1.73417 5.33188 1.70635 5.3283C0.972099 5.17437 0.413064 4.4942 0.254532 3.56345C0.243407 3.49185 0.226718 3.42025 0.212812 3.34866L0.212812 2.8618C0.221156 2.82958 0.235063 2.79736 0.237843 2.76514C0.354657 1.83439 0.869193 1.1256 1.58398 0.910789C1.65351 0.88931 1.71748 0.864269 1.78145 0.84279ZM12.4726 5.36054L12.0943 5.36052C12.0637 5.34978 12.0359 5.33188 12.0053 5.3283C11.2043 5.16721 10.5785 4.31163 10.5285 3.30212C10.4728 2.18879 10.9735 1.24729 11.7828 0.943008C11.8857 0.90363 11.9914 0.874992 12.0943 0.842773L12.4726 0.842773C12.4976 0.853513 12.5199 0.871412 12.5449 0.878572C13.268 1.0504 13.7409 1.59096 13.9661 2.49308C13.9967 2.61121 14.0134 2.7365 14.0385 2.85822L14.0385 3.34508C14.0301 3.37729 14.0162 3.40951 14.0134 3.44173C13.8938 4.37607 13.3821 5.08129 12.6673 5.29608C12.6005 5.31758 12.5366 5.33906 12.4726 5.36054ZM7.31612 5.36052L6.93787 5.36052C6.90727 5.34978 6.87946 5.33188 6.84887 5.32472C6.05064 5.16363 5.40817 4.27583 5.37479 3.27348C5.33586 2.14583 5.8643 1.19002 6.67921 0.921529C6.76543 0.892891 6.85165 0.867832 6.93787 0.842773L7.31612 0.842773C7.34671 0.853513 7.37453 0.871412 7.40512 0.878571C8.20335 1.03608 8.84583 1.92746 8.88198 2.92982C8.9237 4.05746 8.39247 5.01328 7.57756 5.28177C7.48856 5.3104 7.40234 5.33546 7.31612 5.36052Z" fill="black"/>
                      </svg>  
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <!-- <a class="dropdown-item" href="#">Action</a> -->
                        <div class="dropdown-item" (click)="deleteRequest(data)">
                            <svg class="mr-2" width="10" height="13" viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.714286 11.5556C0.714286 12.35 1.35714 13 2.14286 13H7.85714C8.64286 13 9.28571 12.35 9.28571 11.5556V4.33333C9.28571 3.53889 8.64286 2.88889 7.85714 2.88889H2.14286C1.35714 2.88889 0.714286 3.53889 0.714286 4.33333V11.5556ZM9.28571 0.722222H7.5L6.99286 0.209444C6.86429 0.0794444 6.67857 0 6.49286 0H3.50714C3.32143 0 3.13571 0.0794444 3.00714 0.209444L2.5 0.722222H0.714286C0.321429 0.722222 0 1.04722 0 1.44444C0 1.84167 0.321429 2.16667 0.714286 2.16667H9.28571C9.67857 2.16667 10 1.84167 10 1.44444C10 1.04722 9.67857 0.722222 9.28571 0.722222Z" fill="black"/>
                            </svg>
                                Delete
                        </div>
                        <div class="dropdown-item" data-toggle="modal" data-target="#requestModel" (click)="editRequest(data, true)">
                            <svg class="mr-2" width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 8.70864V11H2.29136L9.04933 4.24203L6.75797 1.95067L0 8.70864ZM10.8213 2.47005C10.878 2.41352 10.9229 2.34637 10.9536 2.27246C10.9842 2.19854 11 2.1193 11 2.03927C11 1.95925 10.9842 1.88001 10.9536 1.80609C10.9229 1.73217 10.878 1.66503 10.8213 1.6085L9.3915 0.178692C9.33498 0.122047 9.26783 0.0771074 9.19391 0.0464451C9.11999 0.0157828 9.04075 0 8.96073 0C8.8807 0 8.80146 0.0157828 8.72754 0.0464451C8.65363 0.0771074 8.58648 0.122047 8.52995 0.178692L7.41177 1.29687L9.70313 3.58823L10.8213 2.47005Z" fill="black"/>
                            </svg>                                
                                Edit
                        </div>
                    </div>
                  </div>
                </div>
            </div>
            
        </div>
    </div>
    <!--- Card view -->
    <div class="taskCardContainer d-flex flex-wrap justify-content-start m-1" *ngIf="cardView">
      <div class="taskCard d-flex flex-column ml-2 mb-2" *ngFor="let data of requestList; index as i">
        <div class="options mr-1 dropdown">
          <svg 
          id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" 
          width="15" height="6" viewBox="0 0 15 6" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.78145 0.84279L2.15967 0.84279C2.19027 0.85353 2.21808 0.871429 2.24867 0.878589C3.04412 1.0361 3.67269 1.8881 3.72553 2.88686C3.78672 4.00376 3.29166 4.94884 2.4851 5.25671C2.37941 5.29608 2.26816 5.32472 2.15969 5.36052L1.78143 5.36052C1.7564 5.34978 1.73417 5.33188 1.70635 5.3283C0.972099 5.17437 0.413064 4.4942 0.254532 3.56345C0.243407 3.49185 0.226718 3.42025 0.212812 3.34866L0.212812 2.8618C0.221156 2.82958 0.235063 2.79736 0.237843 2.76514C0.354657 1.83439 0.869193 1.1256 1.58398 0.910789C1.65351 0.88931 1.71748 0.864269 1.78145 0.84279ZM12.4726 5.36054L12.0943 5.36052C12.0637 5.34978 12.0359 5.33188 12.0053 5.3283C11.2043 5.16721 10.5785 4.31163 10.5285 3.30212C10.4728 2.18879 10.9735 1.24729 11.7828 0.943008C11.8857 0.90363 11.9914 0.874992 12.0943 0.842773L12.4726 0.842773C12.4976 0.853513 12.5199 0.871412 12.5449 0.878572C13.268 1.0504 13.7409 1.59096 13.9661 2.49308C13.9967 2.61121 14.0134 2.7365 14.0385 2.85822L14.0385 3.34508C14.0301 3.37729 14.0162 3.40951 14.0134 3.44173C13.8938 4.37607 13.3821 5.08129 12.6673 5.29608C12.6005 5.31758 12.5366 5.33906 12.4726 5.36054ZM7.31612 5.36052L6.93787 5.36052C6.90727 5.34978 6.87946 5.33188 6.84887 5.32472C6.05064 5.16363 5.40817 4.27583 5.37479 3.27348C5.33586 2.14583 5.8643 1.19002 6.67921 0.921529C6.76543 0.892891 6.85165 0.867832 6.93787 0.842773L7.31612 0.842773C7.34671 0.853513 7.37453 0.871412 7.40512 0.878571C8.20335 1.03608 8.84583 1.92746 8.88198 2.92982C8.9237 4.05746 8.39247 5.01328 7.57756 5.28177C7.48856 5.3104 7.40234 5.33546 7.31612 5.36052Z" fill="black"/>
            </svg>  
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <!-- <a class="dropdown-item" href="#">Action</a> -->
              <div class="dropdown-item" (click)="deleteRequest(data)">
                  <svg class="mr-2" width="10" height="13" viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0.714286 11.5556C0.714286 12.35 1.35714 13 2.14286 13H7.85714C8.64286 13 9.28571 12.35 9.28571 11.5556V4.33333C9.28571 3.53889 8.64286 2.88889 7.85714 2.88889H2.14286C1.35714 2.88889 0.714286 3.53889 0.714286 4.33333V11.5556ZM9.28571 0.722222H7.5L6.99286 0.209444C6.86429 0.0794444 6.67857 0 6.49286 0H3.50714C3.32143 0 3.13571 0.0794444 3.00714 0.209444L2.5 0.722222H0.714286C0.321429 0.722222 0 1.04722 0 1.44444C0 1.84167 0.321429 2.16667 0.714286 2.16667H9.28571C9.67857 2.16667 10 1.84167 10 1.44444C10 1.04722 9.67857 0.722222 9.28571 0.722222Z" fill="black"/>
                  </svg>
                      Delete
              </div>
              <div class="dropdown-item" data-toggle="modal" data-target="#requestModel" (click)="editRequest(data, true)">
                  <svg class="mr-2" width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0 8.70864V11H2.29136L9.04933 4.24203L6.75797 1.95067L0 8.70864ZM10.8213 2.47005C10.878 2.41352 10.9229 2.34637 10.9536 2.27246C10.9842 2.19854 11 2.1193 11 2.03927C11 1.95925 10.9842 1.88001 10.9536 1.80609C10.9229 1.73217 10.878 1.66503 10.8213 1.6085L9.3915 0.178692C9.33498 0.122047 9.26783 0.0771074 9.19391 0.0464451C9.11999 0.0157828 9.04075 0 8.96073 0C8.8807 0 8.80146 0.0157828 8.72754 0.0464451C8.65363 0.0771074 8.58648 0.122047 8.52995 0.178692L7.41177 1.29687L9.70313 3.58823L10.8213 2.47005Z" fill="black"/>
                  </svg>                                
                      Edit
              </div>
          </div>
        </div>
            <div class="taskDetails d-flex flex-column pt-2 pl-3 pr-2">
              <div class="taskNumber" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">
                  <p class="font-weight-bold">{{data.requestCode}}</p>
              </div>
                <div class="taskTitleDescription">
                  <p class="mb-0 font-weight-bold" data-toggle="modal" data-target="#viewRequestModel" (click)="editRequest(data, true)">{{data.requestTitle}}</p>
                    <p class="text-truncate mr-3">{{data.requestDescription}}</p>
                  <p class="text-truncate mr-3">{{data.requestType}}</p>
                </div>
                <div class="taskStatus">
                  <p class="mb-0">Status : {{data.requestStatus}}</p>
                  <p>Raised by : {{data.requestCreatedBy}}</p>
                </div>
            </div>
        </div>
      </div>
    </div>
</div>